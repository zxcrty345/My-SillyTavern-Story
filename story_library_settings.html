<!-- story_library_settings.html -->
<div class="story-library-settings">
    <div class="inline-drawer">
        <div class="inline-drawer-toggle inline-drawer-header">
            <b>小剧场库 (离线版)</b>
            <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
        </div>
        <div class="inline-drawer-content">
            <div class="example-extension_block flex-container">
                <input id="enable_story_library" type="checkbox" />
                <label for="enable_story_library">启用小剧场库</label>
            </div>
            <hr>
            <h4>剧本数据管理</h4>
            
            <!-- 【核心修改】将导入功能细化 -->
            <div class="settings-group" style="margin-top: 10px;">
                <p class="settings-note">从 .zip 数据包更新您的本地剧本库。</p>
                <div style="display: flex; gap: 10px; margin-top: 5px;">
                    <button id="import_story_zip_append_btn" class="menu_button" title="只添加压缩包里新增的剧本，不影响您已有的剧本">增量导入</button>
                    <button id="import_story_zip_replace_btn" class="menu_button" title="清空您当前的剧本库，完全替换为压缩包的内容">完全替换</button>
                </div>
            </div>

            <!-- 【核心修改】新增导出功能 -->
            <div class="settings-group" style="margin-top: 15px;">
                <p class="settings-note">将您当前的本地剧本库导出为一个 .zip 数据包。</p>
                <div style="margin-top: 5px;">
                    <button id="export_story_zip_btn" class="menu_button">导出本地剧本库</button>
                </div>
            </div>

            <!-- 隐藏的文件输入框，由JS触发 -->
            <input type="file" id="story_zip_importer" accept=".zip" style="display: none;">

            <div class="settings-note" style="font-size: 12px; color: var(--SmartThemeEmColor); margin-top: 15px;">
                <a href="【这里放您的downloader.html页面网址】" target="_blank">点此前往更新页面下载官方数据包</a>
            </div>
        </div>
    </div>
</div>
